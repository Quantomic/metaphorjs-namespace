'use strict';define("metaphorjs-namespace",function(){var q=Object.prototype.toString,t=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var r=a[q.call(b)];return void 0===r?-1:1==r&&isNaN(b)?8:r}}(),u=function(){var a,b=function(b){var c={},d=[];0==arguments.length&&(b=!0);return{addFinder:function(c,
e,a){d[a?"unshift":"push"]({fn:c,context:e})},add:function(a,e,d){if(c[a]&&!1===c[a].rewritable)return c[a];c[a]={rewritable:"undefined"!=typeof d?d:b,value:e};return e},get:function(a){if(c[a])return c[a].value;if(d.length){var e,b,h;e=0;for(b=d.length;e<b;e++)if(h=d[e].fn.call(d[e].context,a,this),void 0!==h)return this.add(a,h,!0)}},remove:function(a){var e=c[a];e&&!0===e.rewritable&&delete c[a];return e?e.value:void 0},exists:function(a){return!!c[a]},eachEntry:function(a,e){for(var d in c)a.call(e,
c[d].value,d)},destroy:function(){this===a&&(a=null);this.remove=this.exists=this.destroy=this.get=this.add=b=c=null}}};b.global=function(){a||(a=new b(!0));return a};return b}();return function(){var a=function(a,c,d){d=d||new u(!1);var q=c?c.length:null;a||(a="undefined"!=typeof global?global:window);var e=function(a){return a&&c&&a.substr(0,q)!=c?c+"."+a:a},s=function(h,b){h=e(h);if(d.exists(h))return d.get(h);if(!b){var k=h.split("."),f,l=k.length,m,g=a;for(f=0;f<l;f++)if(m=k[f],c&&0==f&&m==c)g=
a;else{if(void 0===g[m])return;g=g[m]}g&&d.add(h,g);return g}};this.register=function(h,b){var k;k=e(h);var f=k.split("."),l,m=f.pop();l=f.join(".");var g=f.length,p,n=a;if(d[l])k=[d[l],m,k];else{if(0<g)for(l=0;l<g;l++)p=f[l],c&&0==l&&p==c?n=a:(void 0===n[p]&&(n[p]={}),n=n[p]);k=[n,m,k]}f=k[0];m=k[1];null===f||"object"!=typeof f?g=!1:(g=t(f),g=2<g||-1==g);g&&void 0===f[m]&&(f[m]=b,d.add(k[2],b));return b};this.exists=function(a){return void 0!==s(a,!0)};this.get=s;this.add=function(a,b){a=e(a);d.add(a,
b);return b};this.remove=function(a){a=e(a);d.remove(a)};this.normalize=e;this.makeAlias=function(a,b){a=e(a);b=e(b);var c=d.get(a);void 0!==c&&d.add(b,c)};this.destroy=function(){var a;this===b&&(b=null);d.eachEntry(function(a){a&&a.$destroy&&a.$destroy()});d.destroy();d=null;for(a in this)this[a]=null}};a.prototype.register=null;a.prototype.exists=null;a.prototype.get=null;a.prototype.add=null;a.prototype.remove=null;a.prototype.normalize=null;a.prototype.makeAlias=null;a.prototype.destroy=null;
var b;a.global=function(){b||(b=new a);return b};return a}()});
