'use strict';(function(){var l={},s=Object.prototype.toString,t=function(){var a={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(b){if(!b){if(null===b)return 6;if(void 0===b)return 7}var q=a[s.call(b)];return void 0===q?-1:1==q&&isNaN(b)?8:q}}(),u=function(){var a,b=function(b){var c={},d=[];0==arguments.length&&(b=!0);return{addFinder:function(c,e,a){d[a?"unshift":"push"]({fn:c,
context:e})},add:function(a,e,d){if(c[a]&&!1===c[a].rewritable)return c[a];c[a]={rewritable:"undefined"!=typeof d?d:b,value:e};return e},get:function(a){if(c[a])return c[a].value;if(d.length){var e,b,h;e=0;for(b=d.length;e<b;e++)if(h=d[e].fn.call(d[e].context,a,this),void 0!==h)return this.add(a,h,!0)}},remove:function(a){var e=c[a];e&&!0===e.rewritable&&delete c[a];return e?e.value:void 0},exists:function(a){return!!c[a]},eachEntry:function(a,e){for(var d in c)a.call(e,c[d].value,d)},destroy:function(){this===
a&&(a=null);this.remove=this.exists=this.destroy=this.get=this.add=b=c=null}}};b.global=function(){a||(a=new b(!0));return a};return b}(),v=function(){var a=function(a,c,d){d=d||new u(!1);var l=c?c.length:null;a||(a="undefined"!=typeof global?global:window);var e=function(a){return a&&c&&a.substr(0,l)!=c?c+"."+a:a},r=function(h,b){h=e(h);if(d.exists(h))return d.get(h);if(!b){var k=h.split("."),f,m=k.length,n,g=a;for(f=0;f<m;f++)if(n=k[f],c&&0==f&&n==c)g=a;else{if(void 0===g[n])return;g=g[n]}g&&d.add(h,
g);return g}};this.register=function(h,b){var k;k=e(h);var f=k.split("."),m,n=f.pop();m=f.join(".");var g=f.length,l,p=a;if(d[m])k=[d[m],n,k];else{if(0<g)for(m=0;m<g;m++)l=f[m],c&&0==m&&l==c?p=a:(void 0===p[l]&&(p[l]={}),p=p[l]);k=[p,n,k]}f=k[0];n=k[1];null===f||"object"!=typeof f?g=!1:(g=t(f),g=2<g||-1==g);g&&void 0===f[n]&&(f[n]=b,d.add(k[2],b));return b};this.exists=function(a){return void 0!==r(a,!0)};this.get=r;this.add=function(a,b){a=e(a);d.add(a,b);return b};this.remove=function(a){a=e(a);
d.remove(a)};this.normalize=e;this.makeAlias=function(a,b){a=e(a);b=e(b);var c=d.get(a);void 0!==c&&d.add(b,c)};this.destroy=function(){var a;this===b&&(b=null);d.eachEntry(function(a){a&&a.$destroy&&a.$destroy()});d.destroy();d=null;for(a in this)this[a]=null}};a.prototype.register=null;a.prototype.exists=null;a.prototype.get=null;a.prototype.add=null;a.prototype.remove=null;a.prototype.normalize=null;a.prototype.makeAlias=null;a.prototype.destroy=null;var b;a.global=function(){b||(b=new a);return b};
return a}();l.Namespace=v;"undefined"!=typeof global?global.MetaphorJs=l:window.MetaphorJs=l})();
